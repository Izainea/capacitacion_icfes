<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lección 7.1: Introducción a Docker</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Teko:wght@400;600&display=swap" rel="stylesheet">

    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --primary-color: #ff9900; /* AWS Orange */
            --secondary-color: #232f3e; /* AWS Dark Blue */
            --text-color: #e0e0e0;
            --text-muted: #a0a0a0;
            --border-color: #333;
            --info-color: #0db7ed; /* Docker Blue */
        }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 40px 20px;
            text-align: center;
            overflow-x: hidden;
        }
        .container { max-width: 1200px; margin: auto; }
        h1, h2, h3, h4 {
            font-family: 'Teko', sans-serif;
            font-weight: 600;
            letter-spacing: 1px;
        }
        h1 { font-size: 4.5rem; color: var(--primary-color); margin-bottom: 0; }
        h2 {
            font-size: 3rem;
            color: var(--text-color);
            border-bottom: 2px solid var(--primary-color);
            display: inline-block;
            padding-bottom: 10px;
            margin-top: 80px;
        }
        .subtitle { font-size: 1.6rem; color: var(--text-muted); margin-top: 0; margin-bottom: 80px; max-width: 800px; margin-left: auto; margin-right: auto;}
        .section { margin-bottom: 100px; }
        p {
            font-size: 1.2rem;
            line-height: 1.7;
            color: var(--text-muted);
            max-width: 800px;
            margin: 20px auto 40px;
            text-align: left;
        }
        .analogy-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            background-color: var(--card-bg);
            padding: 40px;
            border-radius: 15px;
            text-align: left;
            border-left: 5px solid var(--info-color);
        }
        .analogy-section h3 {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-top: 0;
        }
        .analogy-section p { font-size: 1.1rem; }
        .analogy-icon {
            font-size: 4rem;
            color: var(--info-color);
            margin-bottom: 20px;
        }
        .install-guide, .workshop-guide {
            text-align: left;
            max-width: 800px;
            margin: auto;
        }
        .guide-step {
            background-color: var(--card-bg);
            padding: 20px 30px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 4px solid var(--primary-color);
        }
        .guide-step h4 {
            font-size: 2rem;
            color: var(--primary-color);
            margin-top: 0;
        }
        .guide-step code {
            background-color: #0d1117;
            padding: 10px;
            display: block;
            border-radius: 5px;
            margin-top: 15px;
            font-family: 'Courier New', Courier, monospace;
            color: #c9d1d9;
        }
        .external-link {
            display: inline-block;
            margin-top: 15px;
            padding: 10px 20px;
            background: var(--info-color);
            color: white;
            text-decoration: none;
            font-weight: bold;
            border-radius: 5px;
            transition: background-color 0.2s;
        }
        .external-link:hover { background-color: #7bc0e8; }
        .navigation-section { background: var(--secondary-color); padding: 60px 30px; border-radius: 15px; margin-top: 80px; }
        .navigation-section h2 { border: none; }
        .nav-buttons { display: flex; justify-content: center; gap: 20px; margin-top: 30px; flex-wrap: wrap; }
        .nav-button {
            padding: 15px 30px; border: none; border-radius: 50px; font-size: 1.2rem; font-weight: bold; text-decoration: none;
            transition: transform 0.3s, box-shadow 0.3s; display: inline-flex; align-items: center; gap: 10px; cursor: pointer;
        }
        .back-button { background-color: var(--card-bg); color: var(--primary-color); border: 2px solid var(--primary-color); }
        .next-button { background-color: var(--primary-color); color: var(--secondary-color); }
        .nav-button:hover { transform: scale(1.05); box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Introducción a Docker</h1>
            <p class="subtitle">La solución profesional al problema más común del desarrollo: "en mi máquina funciona".</p>
        </header>

        <main>
            <section class="section" id="que-es">
                <h2>La Necesidad: ¿Por Qué es Importante esta Lección?</h2>
                <p>
                    A medida que nuestras aplicaciones Shiny se vuelven más complejas, no solo dependen de paquetes de R, sino también de programas externos instalados en el sistema operativo (como `pandoc` o `LaTeX`). El problema es que si movemos nuestra aplicación a otro computador (el de un colega, un servidor de producción), no hay garantía de que esos programas estén instalados. Esto causa que la aplicación falle de formas inesperadas. Aquí es donde entra Docker.
                </p>
            </section>
            
            <section class="section" id="analogia">
                <h2>La Analogía del Contenedor</h2>
                <div class="analogy-section">
                    <div>
                        <i class="fas fa-shipping-fast analogy-icon"></i>
                        <h3>El Problema Logístico</h3>
                        <p>Antes de los contenedores, enviar productos era un caos. Cada producto (barriles, cajas, sacos) tenía una forma y tamaño diferente. Cargarlos y descargarlos era lento, ineficiente y propenso a errores.</p>
                    </div>
                    <div>
                        <i class="fas fa-laptop-code analogy-icon"></i>
                        <h3>El Problema del Software</h3>
                        <p>Desplegar software es similar. Cada aplicación tiene dependencias únicas (versiones de R, paquetes, programas del sistema). Instalar todo manualmente en un nuevo servidor es lento, ineficiente y propenso a errores.</p>
                    </div>
                    <div style="grid-column: 1 / -1; text-align: center;">
                         <h3>La Solución: Un Estándar</h3>
                         <p style="text-align: center;">El contenedor de transporte estandarizó todo. No importa lo que lleves dentro, la "caja" es la misma. <strong>Docker hace exactamente lo mismo para el software.</strong> Un contenedor de Docker es una "caja" estándar que empaqueta tu aplicación con TODO lo que necesita, garantizando que funcione en cualquier lugar.</p>
                    </div>
                </div>
            </section>

            <section class="section" id="como-funciona">
                <h2>¿Cómo Funciona Docker? (Contenedor vs. Máquina Virtual)</h2>
                <p>
                    Para un público técnico, es crucial entender que un contenedor <b>no es una máquina virtual (VM)</b>. Una VM emula un computador completo, incluyendo su propio sistema operativo, lo que la hace pesada y lenta.
                </p>
                <p>
                    En cambio, un contenedor es mucho más ligero. No tiene su propio sistema operativo, sino que <b>comparte el kernel del sistema operativo anfitrión</b> (en nuestro caso, el kernel de Linux que provee WSL 2 en Windows). Solo empaqueta la aplicación y sus dependencias directas.
                </p>
                <p>Esta es la razón por la que los contenedores son tan rápidos para iniciar y tienen un rendimiento casi nativo. Para R y Shiny, esto significa que nuestra aplicación se ejecutará de forma eficiente sin el sobrecosto de una virtualización completa.</p>
            </section>
            
             <section class="section" id="instalacion">
                <h2>Guía de Instalación Detallada para Windows</h2>
                <p>Para poder trabajar con contenedores, primero debemos instalar la herramienta principal: Docker Desktop.</p>
                <div class="install-guide">
                    <div class="guide-step">
                        <h4>Paso 1: Prerrequisitos (WSL 2)</h4>
                        <p>Docker en Windows moderno depende del <strong>Subsistema de Windows para Linux (WSL 2)</strong>. Es una tecnología de Microsoft que permite ejecutar un entorno de Linux directamente en Windows. Si no lo tienes, la instalación de Docker te guiará, pero es bueno saberlo de antemano.</p>
                    </div>
                    <div class="guide-step">
                        <h4>Paso 2: Descargar Docker Desktop</h4>
                        <p>Ve a la página oficial de Docker y descarga el instalador. Esta es la única fuente que debes usar.</p>
                        <a href="https://www.docker.com/products/docker-desktop/" target="_blank" class="external-link">Descargar Docker Desktop <i class="fas fa-external-link-alt"></i></a>
                    </div>
                    <div class="guide-step">
                        <h4>Paso 3: Ejecutar el Instalador</h4>
                        <p>Ejecuta el archivo descargado. Durante la instalación, verás una pantalla de configuración. La opción más importante es asegurarte de que la casilla <strong>"Use WSL 2 instead of Hyper-V (recommended)"</strong> esté marcada.</p>
                         
                    </div>
                     <div class="guide-step">
                        <h4>Paso 4: Primer Inicio y Reinicio</h4>
                        <p>Al finalizar la instalación, reinicia tu computador. La primera vez que inicies Docker Desktop, puede tardar unos minutos en configurar todo. Sabrás que está listo cuando el icono de la ballena en tu barra de tareas deje de animarse y se quede fijo.</p>
                    </div>
                </div>
            </section>
            
            <section class="section" id="primer-docker">
                <h2>Tu Primer Contenedor: El "Hola Mundo" de Docker</h2>
                <p>Ahora que tienes Docker instalado, vamos a verificar que todo funciona correctamente con el ejercicio más simple y universal.</p>
                <div class="workshop-guide">
                    <div class="guide-step">
                        <h4>Paso 1: Ejecutar un Contenedor</h4>
                        <p>Abre una terminal (PowerShell o la terminal de VS Code) y escribe el siguiente comando:</p>
                        <code>docker run hello-world</code>
                        <p>Docker hará lo siguiente: 1. Buscará una imagen llamada "hello-world" en tu máquina. 2. Al no encontrarla, la descargará de Docker Hub (un registro público). 3. Creará y ejecutará un contenedor a partir de esa imagen, el cual imprimirá un mensaje de bienvenida y se detendrá.</p>
                    </div>
                     <div class="guide-step">
                        <h4>Paso 2: Ver las Imágenes Descargadas</h4>
                        <p>Ahora que has descargado la imagen, puedes verla en tu lista local.</p>
                        <code>docker images</code>
                    </div>
                     <div class="guide-step">
                        <h4>Paso 3: Ver los Contenedores (Incluso los Detenidos)</h4>
                        <p>El contenedor `hello-world` se detuvo después de ejecutarse. Para verlo, necesitas añadir la bandera `-a` (all).</p>
                        <code>docker ps -a</code>
                        <p>Si has completado estos pasos, ¡felicidades! Tu entorno de Docker está funcionando perfectamente y entiendes el ciclo de vida básico de un contenedor.</p>
                    </div>
                </div>
            </section>

            <section class="navigation-section">
                <h2>Manos a la Obra</h2>
                <p>Ahora que entendemos la teoría y tenemos las herramientas, en la siguiente lección vamos a construir nuestro entorno Docker para garantizar que la generación de reportes funcione siempre.</p>
                <div class="nav-buttons">
                    <a href="sesion_7.html" class="nav-button back-button"><i class="fa-solid fa-arrow-left"></i> Volver al Módulo 7</a>
                    <a href="reportes_docker.html" class="nav-button next-button">Siguiente: Reportes con Docker <i class="fa-solid fa-arrow-right"></i></a>
                </div>
            </section>
        </main>
    </div>
</body>
</html>

